{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lewins Django Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body{
            font-family: 'Poppins', sans-serif;
            background:#f4f6f9;
            margin:0;
            padding:40px;
        }

        h1{
            text-align:center;
            margin-bottom:40px;
        }

        .blog-card{
            display:flex;
            gap:25px;
            background:white;
            padding:25px;
            border-radius:10px;
            margin-bottom:30px;
            box-shadow:0 5px 15px rgba(0,0,0,0.06);
            align-items:flex-start;
        }

        .blog-image{
            flex-shrink:0;
        }

        .blog-image img{
            width:120px;
            height:120px;
            object-fit:cover;
            border-radius:50%;
            border:6px solid #111827;
        }

        .blog-content{
            flex:1;
        }

        .blog-title{
            font-size:22px;
            font-weight:600;
            margin-bottom:5px;
        }

        .blog-meta{
            font-size:13px;
            color:#777;
            margin-bottom:15px;
        }

        .view-btn{
            padding:8px 15px;
            background:#111827;
            color:white;
            border:none;
            cursor:pointer;
            border-radius:5px;
        }

        .full-content{
            margin-top:15px;
            display:none;
            line-height:1.7;
            color:#444;
        }
    </style>

    <script>
        function toggleContent(id){
            var content = document.getElementById(id);
            if(content.style.display === "none"){
                content.style.display = "block";
            } else {
                content.style.display = "none";
            }
        }
    </script>
</head>
<body>

<h1>My Django Learning Blog</h1>

<!-- Django Loop -->
{% for post in posts reversed %}
<div class="blog-card">

    <div class="blog-image">
        <img src="{{ post.image.url }}" alt="blog image">
    </div>

    <div class="blog-content">
        <div class="blog-title">{{ post.title }}</div>
        <div class="blog-meta">
            Posted on {{ post.created_at|date:"F d, Y" }} at {{ post.created_at|time:"H:i" }}
        </div>

        <button class="view-btn" onclick="toggleContent('post{{ post.id }}')">
            View Blog
        </button>

        <div class="full-content" id="post{{ post.id }}">
            {{ post.content }}
        </div>
    </div>

</div>
{% endfor %}

</body>
</html>
